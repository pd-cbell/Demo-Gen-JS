{"ast":null,"code":"var _jsxFileName = \"/Users/cbell/Desktop/Demo Gen JS/frontend/src/pages/Preview.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/Preview.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Preview = () => {\n  _s();\n  const [organizations, setOrganizations] = useState([]);\n  const [selectedOrg, setSelectedOrg] = useState('');\n  const [files, setFiles] = useState([]);\n  const [selectedFile, setSelectedFile] = useState('');\n  const [content, setContent] = useState('');\n  useEffect(() => {\n    // Fetch list of organizations\n    axios.get('http://localhost:5000/api/organizations').then(res => setOrganizations(res.data.organizations)).catch(err => console.error(err));\n  }, []);\n  const fetchFiles = org => {\n    axios.get(`http://localhost:5000/api/files/${org}`).then(res => setFiles(res.data.files)).catch(err => console.error(err));\n  };\n  const handleOrgSelect = org => {\n    setSelectedOrg(org);\n    fetchFiles(org);\n  };\n  const handleFileSelect = file => {\n    setSelectedFile(file);\n    // Fetch file content from backend\n    axios.get(`http://localhost:5000/api/preview/${selectedOrg}/${file}`).then(res => setContent(res.data.content)).catch(err => console.error(err));\n  };\n  const handleSave = () => {\n    // Save updated content to backend\n    axios.post(`http://localhost:5000/api/preview/${selectedOrg}/${selectedFile}`, {\n      content\n    }).then(() => alert('File saved successfully!')).catch(err => console.error(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Generated Files Browser\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), !selectedOrg && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Organizations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: organizations.map(org => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            onClick: () => handleOrgSelect(org),\n            children: org\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)\n        }, org, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), selectedOrg && !selectedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Files for Organization: \", selectedOrg]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: files.map(file => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            onClick: () => handleFileSelect(file),\n            children: file\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, file, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mt-3\",\n        onClick: () => setSelectedOrg(''),\n        children: \"Back to Organizations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), selectedOrg && selectedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Editing File: \", selectedFile, \" (Organization: \", selectedOrg, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control\",\n        rows: \"15\",\n        value: content,\n        onChange: e => setContent(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-success\",\n          onClick: handleSave,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary ml-2\",\n          onClick: () => window.open(`http://localhost:5000/api/download/${selectedOrg}/${selectedFile}`, '_blank'),\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary mt-3\",\n        onClick: () => setSelectedFile(''),\n        children: \"Back to Files\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-3\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-info\",\n        onClick: () => window.location.href = '/',\n        children: \"Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Preview, \"4IK4WYZWXDyVtqHMhXAJnR7dgfs=\");\n_c = Preview;\nexport default Preview;\nvar _c;\n$RefreshReg$(_c, \"Preview\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Preview","_s","organizations","setOrganizations","selectedOrg","setSelectedOrg","files","setFiles","selectedFile","setSelectedFile","content","setContent","get","then","res","data","catch","err","console","error","fetchFiles","org","handleOrgSelect","handleFileSelect","file","handleSave","post","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","onClick","rows","value","onChange","e","target","window","open","location","href","_c","$RefreshReg$"],"sources":["/Users/cbell/Desktop/Demo Gen JS/frontend/src/pages/Preview.js"],"sourcesContent":["// frontend/src/pages/Preview.js\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Preview = () => {\n  const [organizations, setOrganizations] = useState([]);\n  const [selectedOrg, setSelectedOrg] = useState('');\n  const [files, setFiles] = useState([]);\n  const [selectedFile, setSelectedFile] = useState('');\n  const [content, setContent] = useState('');\n\n  useEffect(() => {\n    // Fetch list of organizations\n    axios.get('http://localhost:5000/api/organizations')\n      .then((res) => setOrganizations(res.data.organizations))\n      .catch((err) => console.error(err));\n  }, []);\n\n  const fetchFiles = (org) => {\n    axios.get(`http://localhost:5000/api/files/${org}`)\n      .then((res) => setFiles(res.data.files))\n      .catch((err) => console.error(err));\n  };\n\n  const handleOrgSelect = (org) => {\n    setSelectedOrg(org);\n    fetchFiles(org);\n  };\n\n  const handleFileSelect = (file) => {\n    setSelectedFile(file);\n    // Fetch file content from backend\n    axios.get(`http://localhost:5000/api/preview/${selectedOrg}/${file}`)\n      .then((res) => setContent(res.data.content))\n      .catch((err) => console.error(err));\n  };\n\n  const handleSave = () => {\n    // Save updated content to backend\n    axios.post(`http://localhost:5000/api/preview/${selectedOrg}/${selectedFile}`, { content })\n      .then(() => alert('File saved successfully!'))\n      .catch((err) => console.error(err));\n  };\n\n  return (\n    <div>\n      <h1>Generated Files Browser</h1>\n      {!selectedOrg && (\n        <div>\n          <h2>Organizations</h2>\n          <ul className=\"list-group\">\n            {organizations.map((org) => (\n              <li key={org} className=\"list-group-item\">\n                <button className=\"btn btn-link\" onClick={() => handleOrgSelect(org)}>\n                  {org}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n      {selectedOrg && !selectedFile && (\n        <div>\n          <h2>Files for Organization: {selectedOrg}</h2>\n          <ul className=\"list-group\">\n            {files.map((file) => (\n              <li key={file} className=\"list-group-item\">\n                <button className=\"btn btn-link\" onClick={() => handleFileSelect(file)}>\n                  {file}\n                </button>\n              </li>\n            ))}\n          </ul>\n          <button className=\"btn btn-secondary mt-3\" onClick={() => setSelectedOrg('')}>\n            Back to Organizations\n          </button>\n        </div>\n      )}\n      {selectedOrg && selectedFile && (\n        <div>\n          <h2>\n            Editing File: {selectedFile} (Organization: {selectedOrg})\n          </h2>\n          <textarea\n            className=\"form-control\"\n            rows=\"15\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          ></textarea>\n          <div className=\"mt-3\">\n            <button className=\"btn btn-success\" onClick={handleSave}>\n              Save Changes\n            </button>\n            <button\n              className=\"btn btn-primary ml-2\"\n              onClick={() =>\n                window.open(\n                  `http://localhost:5000/api/download/${selectedOrg}/${selectedFile}`,\n                  '_blank'\n                )\n              }\n            >\n              Download\n            </button>\n          </div>\n          <button className=\"btn btn-secondary mt-3\" onClick={() => setSelectedFile('')}>\n            Back to Files\n          </button>\n        </div>\n      )}\n      <div className=\"mt-3\">\n        <button className=\"btn btn-info\" onClick={() => window.location.href = '/'}>\n          Back to Dashboard\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Preview;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}